webpackJsonp([1],{"+eFS":function(e,n){},NHnr:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("7+uW"),s={name:"App",created:function(){FB.init({appId:"917524868428631",status:!1,cookie:!1,xfbml:!1,version:"v2.8"})}},c={render:function(){var e=this.$createElement,n=this._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]};var r=t("VU/8")(s,c,!1,function(e){t("vfES")},null,null).exports,a=t("/ocq"),i={render:function(){var e=this,n=e.$createElement;return(e._self._c||n)("button",{on:{click:function(n){e.$auth.login("facebook")}}},[e._v("auth Facebook")])},staticRenderFns:[]};var u=t("VU/8")({name:"index"},i,!1,function(e){t("+eFS")},"data-v-011fb772",null).exports;o.a.use(a.a);var f=new a.a({routes:[{path:"/",name:"index",component:u}]}),l=t("Mqd/"),p=t.n(l),h={};h.IS_DEV="production".startsWith("dev"),h.ROOT_URL=window.location.host,h.SERVER_URL=h.IS_DEV?"http://localhost:3000":h.ROOT_URL,h.auth={facebook:{URL:"/api/v1/auth/facebook",SCOPE:"public_profile,email"}};var k=h,v={install:function(e){console.log(k),e.$config=k}},d=t("Xxa5"),R=t.n(d),m=t("exGp"),E=t.n(m),_=t("//Fk"),b=t.n(_),S=t("mtWM"),g=t.n(S),O=t("NYxO"),w=t("424j");o.a.use(O.a);var T,x=new O.a.Store({strict:!0,state:{tokens:{access:null,refresh:null},user:null},plugins:[Object(w.a)()],getters:{isLogged:function(e){return function(){return Boolean(e.user)}},isNotLogged:function(e){return function(){return!Boolean(e.user)}}},mutations:{login:function(e,n){e.tokens.refresh=n.tokens.refresh,e.tokens.access=n.tokens.access,e.user=n.user},setTokenRefresh:function(e,n){e.tokens.refresh=n},setTokenAccess:function(e,n){e.tokens.access=n},setUser:function(e,n){e.user=n}},actions:{SET_TOKEN_REFRESH:function(e,n){(0,e.commit)("setTokenRefresh",n)},SET_TOKEN_ACCESS:function(e,n){(0,e.commit)("setTokenAccess",n)},SET_USER:function(e,n){(0,e.commit)("setUser",n)},LOGIN:function(e,n){(0,e.commit)("login",n)}}}),U=function(){var e={};return e.baseURL=k.SERVER_URL,e.headers={"Access-Control-Allow-Origin":"*"},g.a.create(e)},L=function(e){return U().post(k.auth.facebook.URL,{access_token:e})},F=(T=E()(R.a.mark(function e(){var n;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new b.a(function(e,n){FB.login(function(t){t.authResponse?e(t.authResponse.accessToken):n()},{scope:k.auth.facebook.scope})});case 3:return n=e.sent,e.next=6,L(n);case 6:A(e.sent.data),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}},e,this,[[0,10]])})),function(){return T.apply(this,arguments)});function A(e){x.dispatch("LOGIN",e)}var N={install:function(e){e.prototype.$auth={login:function(e,n){switch(e){case"facebook":return F()}},register:function(){}}}},V=t("9JMe");o.a.use(p.a),o.a.use(N),o.a.use(v),o.a.config.productionTip=!1,Object(V.sync)(x,f),new o.a({el:"#app",router:f,store:x,components:{App:r},template:"<App/>"})},vfES:function(e,n){}},["NHnr"]);
//# sourceMappingURL=app.cc78afb0e154e4317ea8.js.map